# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'mainWindows.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


import os

import cv2
import numpy as np
from PyQt5 import QtCore, QtWidgets, QtGui
from PyQt5.QtCore import QTimer
from PyQt5.QtGui import QPixmap

from infer import Rotate, use_auto_tune, auto_tune, parse_args, Predictor
from predict_rec import start_rec
from ui.displayCam import *
from ui.dispalyStatus import *


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.setWindowModality(QtCore.Qt.ApplicationModal)
        MainWindow.setEnabled(True)
        MainWindow.resize(1211, 906)
        MainWindow.setMouseTracking(False)
        MainWindow.setContextMenuPolicy(QtCore.Qt.NoContextMenu)
        MainWindow.setAutoFillBackground(False)
        MainWindow.setStyleSheet("background-color: rgb(222, 235, 247);")
        MainWindow.setAnimated(False)
        MainWindow.setDocumentMode(False)
        MainWindow.setTabShape(QtWidgets.QTabWidget.Triangular)
        MainWindow.setDockNestingEnabled(False)
        MainWindow.setUnifiedTitleAndToolBarOnMac(False)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setAutoFillBackground(False)
        self.centralwidget.setStyleSheet("")
        self.centralwidget.setObjectName("centralwidget")
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout(self.centralwidget)
        self.horizontalLayout_2.setContentsMargins(14, 14, 14, 14)
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setContentsMargins(0, -1, -1, -1)
        self.horizontalLayout.setSpacing(0)
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.left = QtWidgets.QWidget(self.centralwidget)
        self.left.setAutoFillBackground(False)
        self.left.setStyleSheet("background-color: rgb(206, 206, 206);")
        self.left.setObjectName("left")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.left)
        self.verticalLayout.setObjectName("verticalLayout")
        self.Camframe = QtWidgets.QFrame(self.left)
        self.Camframe.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.Camframe.setFrameShadow(QtWidgets.QFrame.Raised)
        self.Camframe.setObjectName("Camframe")
        self.horizontalLayout_5 = QtWidgets.QHBoxLayout(self.Camframe)
        self.horizontalLayout_5.setContentsMargins(20, -1, 20, -1)
        self.horizontalLayout_5.setSpacing(0)
        self.horizontalLayout_5.setObjectName("horizontalLayout_5")
        self.Camlabel = QtWidgets.QLabel(self.Camframe)
        self.Camlabel.setMinimumSize(QtCore.QSize(70, 0))
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(22)
        font.setBold(False)
        font.setWeight(50)
        self.Camlabel.setFont(font)
        self.Camlabel.setObjectName("Camlabel")
        self.horizontalLayout_5.addWidget(self.Camlabel)
        self.camStatus = QtWidgets.QLabel(self.Camframe)
        self.camStatus.setText("")
        self.camStatus.setObjectName("camStatus")
        self.horizontalLayout_5.addWidget(self.camStatus, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.label = QtWidgets.QLabel(self.Camframe)
        self.label.setText("")
        self.label.setObjectName("label")
        self.horizontalLayout_5.addWidget(self.label)
        self.LocalTime = QtWidgets.QLabel(self.Camframe)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(16)
        font.setBold(False)
        font.setWeight(50)
        self.LocalTime.setFont(font)
        self.LocalTime.setObjectName("LocalTime")
        self.horizontalLayout_5.addWidget(self.LocalTime, 0, QtCore.Qt.AlignRight)
        self.horizontalLayout_5.setStretch(0, 1)
        self.horizontalLayout_5.setStretch(1, 1)
        self.horizontalLayout_5.setStretch(2, 8)
        self.horizontalLayout_5.setStretch(3, 1)
        self.verticalLayout.addWidget(self.Camframe)
        self.widget = QtWidgets.QWidget(self.left)
        self.widget.setObjectName("widget")
        self.verticalLayout_5 = QtWidgets.QVBoxLayout(self.widget)
        self.verticalLayout_5.setObjectName("verticalLayout_5")
        self.Video = QtWidgets.QLabel(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.Video.sizePolicy().hasHeightForWidth())
        self.Video.setSizePolicy(sizePolicy)
        self.Video.setText("")
        self.Video.setScaledContents(True)
        self.Video.setObjectName("Video")
        self.verticalLayout_5.addWidget(self.Video)
        self.verticalLayout.addWidget(self.widget, 0, QtCore.Qt.AlignHCenter)
        self.Resframe = QtWidgets.QFrame(self.left)
        self.Resframe.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.Resframe.setFrameShadow(QtWidgets.QFrame.Raised)
        self.Resframe.setObjectName("Resframe")
        self.horizontalLayout_4 = QtWidgets.QHBoxLayout(self.Resframe)
        self.horizontalLayout_4.setObjectName("horizontalLayout_4")
        self.dectProgess = QtWidgets.QProgressBar(self.Resframe)
        self.dectProgess.setEnabled(True)
        self.dectProgess.setAccessibleName("")
        self.dectProgess.setAccessibleDescription("")
        self.dectProgess.setMaximum(100)
        self.dectProgess.setProperty("value", 24)
        self.dectProgess.setTextVisible(True)
        self.dectProgess.setInvertedAppearance(False)
        self.dectProgess.setObjectName("dectProgess")
        self.horizontalLayout_4.addWidget(self.dectProgess)
        self.Reslabel = QtWidgets.QLabel(self.Resframe)
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(26)
        font.setBold(False)
        font.setWeight(50)
        self.Reslabel.setFont(font)
        self.Reslabel.setLayoutDirection(QtCore.Qt.RightToLeft)
        self.Reslabel.setObjectName("Reslabel")
        self.horizontalLayout_4.addWidget(self.Reslabel, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.verticalLayout.addWidget(self.Resframe)
        self.verticalLayout.setStretch(0, 1)
        self.verticalLayout.setStretch(1, 5)
        self.verticalLayout.setStretch(2, 1)
        self.horizontalLayout.addWidget(self.left)
        self.right = QtWidgets.QWidget(self.centralwidget)
        self.right.setMouseTracking(False)
        self.right.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.right.setStyleSheet("background-color: rgb(227, 227, 227);")
        self.right.setObjectName("right")
        self.verticalLayout_4 = QtWidgets.QVBoxLayout(self.right)
        self.verticalLayout_4.setContentsMargins(0, -1, 0, 0)
        self.verticalLayout_4.setObjectName("verticalLayout_4")
        self.widget_5 = QtWidgets.QWidget(self.right)
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(24)
        self.widget_5.setFont(font)
        self.widget_5.setObjectName("widget_5")
        self.horizontalLayout_10 = QtWidgets.QHBoxLayout(self.widget_5)
        self.horizontalLayout_10.setContentsMargins(-1, 1, 1, 1)
        self.horizontalLayout_10.setObjectName("horizontalLayout_10")
        self.label_3 = QtWidgets.QLabel(self.widget_5)
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(24)
        self.label_3.setFont(font)
        self.label_3.setObjectName("label_3")
        self.horizontalLayout_10.addWidget(self.label_3)
        self.verticalLayout_4.addWidget(self.widget_5)
        self.resPic0 = QtWidgets.QWidget(self.right)
        self.resPic0.setAutoFillBackground(False)
        self.resPic0.setStyleSheet("background-color: rgb(218, 227, 243);")
        self.resPic0.setObjectName("resPic0")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.resPic0)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.resPicFirst = QtWidgets.QLabel(self.resPic0)
        self.resPicFirst.setText("")
        self.resPicFirst.setObjectName("resPicFirst")
        self.verticalLayout_2.addWidget(self.resPicFirst)
        self.res = QtWidgets.QWidget(self.resPic0)
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(12)
        self.res.setFont(font)
        self.res.setObjectName("res")
        self.horizontalLayout_11 = QtWidgets.QHBoxLayout(self.res)
        self.horizontalLayout_11.setContentsMargins(0, 7, 0, 3)
        self.horizontalLayout_11.setSpacing(4)
        self.horizontalLayout_11.setObjectName("horizontalLayout_11")
        self.res1 = MyQLabel(self.res)
        self.res1.setMinimumSize(QtCore.QSize(30, 50))
        self.res1.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res1.setFont(font)
        self.res1.setAccessibleDescription("")
        self.res1.setLineWidth(0)
        self.res1.setAlignment(QtCore.Qt.AlignCenter)
        self.res1.setIndent(0)
        self.res1.setObjectName("res1")
        self.horizontalLayout_11.addWidget(self.res1, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res2 = MyQLabel(self.res)
        self.res2.setMinimumSize(QtCore.QSize(30, 50))
        self.res2.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res2.setFont(font)
        self.res2.setAccessibleDescription("")
        self.res2.setAlignment(QtCore.Qt.AlignCenter)
        self.res2.setObjectName("res2")
        self.horizontalLayout_11.addWidget(self.res2, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res3 = MyQLabel(self.res)
        self.res3.setMinimumSize(QtCore.QSize(30, 50))
        self.res3.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res3.setFont(font)
        self.res3.setCursor(QtGui.QCursor(QtCore.Qt.ArrowCursor))
        self.res3.setAccessibleDescription("")
        self.res3.setMidLineWidth(0)
        self.res3.setAlignment(QtCore.Qt.AlignCenter)
        self.res3.setObjectName("res3")
        self.horizontalLayout_11.addWidget(self.res3, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res4 = MyQLabel(self.res)
        self.res4.setMinimumSize(QtCore.QSize(30, 50))
        self.res4.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res4.setFont(font)
        self.res4.setAccessibleDescription("")
        self.res4.setAlignment(QtCore.Qt.AlignCenter)
        self.res4.setObjectName("res4")
        self.horizontalLayout_11.addWidget(self.res4, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res5 = MyQLabel(self.res)
        self.res5.setMinimumSize(QtCore.QSize(30, 50))
        self.res5.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res5.setFont(font)
        self.res5.setAccessibleDescription("")
        self.res5.setAlignment(QtCore.Qt.AlignCenter)
        self.res5.setObjectName("res5")
        self.horizontalLayout_11.addWidget(self.res5, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res6 = MyQLabel(self.res)
        self.res6.setMinimumSize(QtCore.QSize(30, 50))
        self.res6.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res6.setFont(font)
        self.res6.setAccessibleDescription("")
        self.res6.setAlignment(QtCore.Qt.AlignCenter)
        self.res6.setObjectName("res6")
        self.horizontalLayout_11.addWidget(self.res6, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res7 = MyQLabel(self.res)
        self.res7.setMinimumSize(QtCore.QSize(30, 50))
        self.res7.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res7.setFont(font)
        self.res7.setAccessibleDescription("")
        self.res7.setAlignment(QtCore.Qt.AlignCenter)
        self.res7.setObjectName("res7")
        self.horizontalLayout_11.addWidget(self.res7, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res8 = MyQLabel(self.res)
        self.res8.setMinimumSize(QtCore.QSize(30, 50))
        self.res8.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res8.setFont(font)
        self.res8.setAccessibleDescription("")
        self.res8.setAlignment(QtCore.Qt.AlignCenter)
        self.res8.setObjectName("res8")
        self.horizontalLayout_11.addWidget(self.res8, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res9 = MyQLabel(self.res)
        self.res9.setMinimumSize(QtCore.QSize(30, 50))
        self.res9.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res9.setFont(font)
        self.res9.setAccessibleDescription("")
        self.res9.setAlignment(QtCore.Qt.AlignCenter)
        self.res9.setObjectName("res9")
        self.horizontalLayout_11.addWidget(self.res9, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res10 = MyQLabel(self.res)
        self.res10.setMinimumSize(QtCore.QSize(30, 50))
        self.res10.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res10.setFont(font)
        self.res10.setAccessibleDescription("")
        self.res10.setAlignment(QtCore.Qt.AlignCenter)
        self.res10.setObjectName("res10")
        self.horizontalLayout_11.addWidget(self.res10, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res11 = MyQLabel(self.res)
        self.res11.setMinimumSize(QtCore.QSize(30, 50))
        self.res11.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res11.setFont(font)
        self.res11.setAccessibleDescription("")
        self.res11.setAlignment(QtCore.Qt.AlignCenter)
        self.res11.setObjectName("res11")
        self.horizontalLayout_11.addWidget(self.res11, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res12 = MyQLabel(self.res)
        self.res12.setMinimumSize(QtCore.QSize(30, 50))
        self.res12.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res12.setFont(font)
        self.res12.setAccessibleDescription("")
        self.res12.setAlignment(QtCore.Qt.AlignCenter)
        self.res12.setObjectName("res12")
        self.horizontalLayout_11.addWidget(self.res12, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res13 = MyQLabel(self.res)
        self.res13.setMinimumSize(QtCore.QSize(30, 50))
        self.res13.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res13.setFont(font)
        self.res13.setAccessibleDescription("")
        self.res13.setAutoFillBackground(False)
        self.res13.setAlignment(QtCore.Qt.AlignCenter)
        self.res13.setObjectName("res13")
        self.horizontalLayout_11.addWidget(self.res13, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res14 = MyQLabel(self.res)
        self.res14.setMinimumSize(QtCore.QSize(30, 50))
        self.res14.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res14.setFont(font)
        self.res14.setAccessibleDescription("")
        self.res14.setAlignment(QtCore.Qt.AlignCenter)
        self.res14.setObjectName("res14")
        self.horizontalLayout_11.addWidget(self.res14, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res15 = MyQLabel(self.res)
        self.res15.setMinimumSize(QtCore.QSize(30, 50))
        self.res15.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res15.setFont(font)
        self.res15.setAccessibleDescription("")
        self.res15.setAlignment(QtCore.Qt.AlignCenter)
        self.res15.setObjectName("res15")
        self.horizontalLayout_11.addWidget(self.res15, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res16 = MyQLabel(self.res)
        self.res16.setMinimumSize(QtCore.QSize(30, 50))
        self.res16.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res16.setFont(font)
        self.res16.setAccessibleDescription("")
        self.res16.setAlignment(QtCore.Qt.AlignCenter)
        self.res16.setObjectName("res16")
        self.horizontalLayout_11.addWidget(self.res16, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.verticalLayout_2.addWidget(self.res)
        self.widget_2 = QtWidgets.QWidget(self.resPic0)
        self.widget_2.setObjectName("widget_2")
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout(self.widget_2)
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")
        self.button0 = QtWidgets.QPushButton(self.widget_2)
        self.button0.setEnabled(True)
        self.button0.setMinimumSize(QtCore.QSize(30, 60))
        self.button0.setMaximumSize(QtCore.QSize(50, 70))
        self.button0.setAccessibleName("")
        self.button0.setAccessibleDescription("")
        self.button0.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button0.setObjectName("button0")
        self.horizontalLayout_3.addWidget(self.button0)
        self.button1 = QtWidgets.QPushButton(self.widget_2)
        self.button1.setMinimumSize(QtCore.QSize(30, 60))
        self.button1.setMaximumSize(QtCore.QSize(50, 70))
        self.button1.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button1.setObjectName("button1")
        self.horizontalLayout_3.addWidget(self.button1)
        self.button2 = QtWidgets.QPushButton(self.widget_2)
        self.button2.setMinimumSize(QtCore.QSize(30, 60))
        self.button2.setMaximumSize(QtCore.QSize(50, 70))
        self.button2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button2.setObjectName("button2")
        self.horizontalLayout_3.addWidget(self.button2)
        self.button3 = QtWidgets.QPushButton(self.widget_2)
        self.button3.setMinimumSize(QtCore.QSize(30, 60))
        self.button3.setMaximumSize(QtCore.QSize(50, 70))
        self.button3.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button3.setObjectName("button3")
        self.horizontalLayout_3.addWidget(self.button3)
        self.button4 = QtWidgets.QPushButton(self.widget_2)
        self.button4.setMinimumSize(QtCore.QSize(30, 60))
        self.button4.setMaximumSize(QtCore.QSize(50, 70))
        self.button4.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button4.setObjectName("button4")
        self.horizontalLayout_3.addWidget(self.button4)
        self.button5 = QtWidgets.QPushButton(self.widget_2)
        self.button5.setMinimumSize(QtCore.QSize(30, 60))
        self.button5.setMaximumSize(QtCore.QSize(50, 70))
        self.button5.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button5.setObjectName("button5")
        self.horizontalLayout_3.addWidget(self.button5)
        self.button6 = QtWidgets.QPushButton(self.widget_2)
        self.button6.setMinimumSize(QtCore.QSize(30, 60))
        self.button6.setMaximumSize(QtCore.QSize(50, 70))
        self.button6.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button6.setObjectName("button6")
        self.horizontalLayout_3.addWidget(self.button6)
        self.button7 = QtWidgets.QPushButton(self.widget_2)
        self.button7.setMinimumSize(QtCore.QSize(30, 60))
        self.button7.setMaximumSize(QtCore.QSize(50, 70))
        self.button7.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button7.setObjectName("button7")
        self.horizontalLayout_3.addWidget(self.button7)
        self.button8 = QtWidgets.QPushButton(self.widget_2)
        self.button8.setMinimumSize(QtCore.QSize(30, 60))
        self.button8.setMaximumSize(QtCore.QSize(50, 70))
        self.button8.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button8.setObjectName("button8")
        self.horizontalLayout_3.addWidget(self.button8)
        self.button9 = QtWidgets.QPushButton(self.widget_2)
        self.button9.setMinimumSize(QtCore.QSize(30, 60))
        self.button9.setMaximumSize(QtCore.QSize(50, 70))
        self.button9.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                   "background-color: rgb(170, 85, 0);")
        self.button9.setObjectName("button9")
        self.horizontalLayout_3.addWidget(self.button9)
        self.verticalLayout_2.addWidget(self.widget_2)
        self.verticalLayout_4.addWidget(self.resPic0)
        self.resPic1 = QtWidgets.QWidget(self.right)
        self.resPic1.setAccessibleDescription("")
        self.resPic1.setAutoFillBackground(False)
        self.resPic1.setStyleSheet("background-color: rgb(218, 227, 243);")
        self.resPic1.setObjectName("resPic1")
        self.verticalLayout_3 = QtWidgets.QVBoxLayout(self.resPic1)
        self.verticalLayout_3.setObjectName("verticalLayout_3")
        self.resPicSecond = QtWidgets.QLabel(self.resPic1)
        self.resPicSecond.setText("")
        self.resPicSecond.setObjectName("resPicSecond")
        self.verticalLayout_3.addWidget(self.resPicSecond)
        self.res_2 = QtWidgets.QWidget(self.resPic1)
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(12)
        self.res_2.setFont(font)
        self.res_2.setObjectName("res_2")
        self.horizontalLayout_28 = QtWidgets.QHBoxLayout(self.res_2)
        self.horizontalLayout_28.setContentsMargins(0, 7, 0, 3)
        self.horizontalLayout_28.setSpacing(4)
        self.horizontalLayout_28.setObjectName("horizontalLayout_28")
        self.res17 = MyQLabel(self.res_2)
        self.res17.setMinimumSize(QtCore.QSize(30, 50))
        self.res17.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res17.setFont(font)
        self.res17.setAccessibleDescription("")
        self.res17.setAlignment(QtCore.Qt.AlignCenter)
        self.res17.setObjectName("res17")
        self.horizontalLayout_28.addWidget(self.res17, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res18 = MyQLabel(self.res_2)
        self.res18.setMinimumSize(QtCore.QSize(30, 50))
        self.res18.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res18.setFont(font)
        self.res18.setAccessibleDescription("")
        self.res18.setAlignment(QtCore.Qt.AlignCenter)
        self.res18.setObjectName("res18")
        self.horizontalLayout_28.addWidget(self.res18, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res19 = MyQLabel(self.res_2)
        self.res19.setMinimumSize(QtCore.QSize(30, 50))
        self.res19.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res19.setFont(font)
        self.res19.setAccessibleDescription("")
        self.res19.setAlignment(QtCore.Qt.AlignCenter)
        self.res19.setObjectName("res19")
        self.horizontalLayout_28.addWidget(self.res19, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res20 = MyQLabel(self.res_2)
        self.res20.setMinimumSize(QtCore.QSize(30, 50))
        self.res20.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res20.setFont(font)
        self.res20.setAccessibleDescription("")
        self.res20.setAlignment(QtCore.Qt.AlignCenter)
        self.res20.setObjectName("res20")
        self.horizontalLayout_28.addWidget(self.res20, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res21 = MyQLabel(self.res_2)
        self.res21.setMinimumSize(QtCore.QSize(30, 50))
        self.res21.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res21.setFont(font)
        self.res21.setAccessibleDescription("")
        self.res21.setAlignment(QtCore.Qt.AlignCenter)
        self.res21.setObjectName("res21")
        self.horizontalLayout_28.addWidget(self.res21, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res22 = MyQLabel(self.res_2)
        self.res22.setMinimumSize(QtCore.QSize(30, 50))
        self.res22.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res22.setFont(font)
        self.res22.setAccessibleDescription("")
        self.res22.setAlignment(QtCore.Qt.AlignCenter)
        self.res22.setObjectName("res22")
        self.horizontalLayout_28.addWidget(self.res22, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res23 = MyQLabel(self.res_2)
        self.res23.setMinimumSize(QtCore.QSize(30, 50))
        self.res23.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res23.setFont(font)
        self.res23.setAccessibleDescription("")
        self.res23.setAlignment(QtCore.Qt.AlignCenter)
        self.res23.setObjectName("res23")
        self.horizontalLayout_28.addWidget(self.res23, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res24 = MyQLabel(self.res_2)
        self.res24.setMinimumSize(QtCore.QSize(30, 50))
        self.res24.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res24.setFont(font)
        self.res24.setAccessibleDescription("")
        self.res24.setAlignment(QtCore.Qt.AlignCenter)
        self.res24.setObjectName("res24")
        self.horizontalLayout_28.addWidget(self.res24, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res25 = MyQLabel(self.res_2)
        self.res25.setMinimumSize(QtCore.QSize(30, 50))
        self.res25.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res25.setFont(font)
        self.res25.setAccessibleDescription("")
        self.res25.setAlignment(QtCore.Qt.AlignCenter)
        self.res25.setObjectName("res25")
        self.horizontalLayout_28.addWidget(self.res25, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res26 = MyQLabel(self.res_2)
        self.res26.setMinimumSize(QtCore.QSize(30, 50))
        self.res26.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res26.setFont(font)
        self.res26.setAccessibleDescription("")
        self.res26.setAlignment(QtCore.Qt.AlignCenter)
        self.res26.setObjectName("res26")
        self.horizontalLayout_28.addWidget(self.res26, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res27 = MyQLabel(self.res_2)
        self.res27.setMinimumSize(QtCore.QSize(30, 50))
        self.res27.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res27.setFont(font)
        self.res27.setAccessibleDescription("")
        self.res27.setAlignment(QtCore.Qt.AlignCenter)
        self.res27.setObjectName("res27")
        self.horizontalLayout_28.addWidget(self.res27, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res28 = MyQLabel(self.res_2)
        self.res28.setMinimumSize(QtCore.QSize(30, 50))
        self.res28.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res28.setFont(font)
        self.res28.setAccessibleDescription("")
        self.res28.setAlignment(QtCore.Qt.AlignCenter)
        self.res28.setObjectName("res28")
        self.horizontalLayout_28.addWidget(self.res28, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res29 = MyQLabel(self.res_2)
        self.res29.setMinimumSize(QtCore.QSize(30, 50))
        self.res29.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res29.setFont(font)
        self.res29.setAccessibleDescription("")
        self.res29.setAlignment(QtCore.Qt.AlignCenter)
        self.res29.setObjectName("res29")
        self.horizontalLayout_28.addWidget(self.res29, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res30 = MyQLabel(self.res_2)
        self.res30.setMinimumSize(QtCore.QSize(30, 50))
        self.res30.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res30.setFont(font)
        self.res30.setAccessibleDescription("")
        self.res30.setAlignment(QtCore.Qt.AlignCenter)
        self.res30.setObjectName("res30")
        self.horizontalLayout_28.addWidget(self.res30, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res31 = MyQLabel(self.res_2)
        self.res31.setMinimumSize(QtCore.QSize(30, 50))
        self.res31.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res31.setFont(font)
        self.res31.setAccessibleDescription("")
        self.res31.setAlignment(QtCore.Qt.AlignCenter)
        self.res31.setObjectName("res31")
        self.horizontalLayout_28.addWidget(self.res31, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.res32 = MyQLabel(self.res_2)
        self.res32.setMinimumSize(QtCore.QSize(30, 50))
        self.res32.setMaximumSize(QtCore.QSize(40, 60))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(22)
        self.res32.setFont(font)
        self.res32.setAccessibleDescription("")
        self.res32.setAlignment(QtCore.Qt.AlignCenter)
        self.res32.setObjectName("res32")
        self.horizontalLayout_28.addWidget(self.res32, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.verticalLayout_3.addWidget(self.res_2)
        self.widget_3 = QtWidgets.QWidget(self.resPic1)
        self.widget_3.setObjectName("widget_3")
        self.horizontalLayout_7 = QtWidgets.QHBoxLayout(self.widget_3)
        self.horizontalLayout_7.setObjectName("horizontalLayout_7")
        self.button0_2 = QtWidgets.QPushButton(self.widget_3)
        self.button0_2.setEnabled(True)
        self.button0_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button0_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button0_2.setAccessibleName("")
        self.button0_2.setAccessibleDescription("")
        self.button0_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button0_2.setObjectName("button0_2")
        self.horizontalLayout_7.addWidget(self.button0_2)
        self.button1_2 = QtWidgets.QPushButton(self.widget_3)
        self.button1_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button1_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button1_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button1_2.setObjectName("button1_2")
        self.horizontalLayout_7.addWidget(self.button1_2)
        self.button2_2 = QtWidgets.QPushButton(self.widget_3)
        self.button2_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button2_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button2_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button2_2.setObjectName("button2_2")
        self.horizontalLayout_7.addWidget(self.button2_2)
        self.button3_2 = QtWidgets.QPushButton(self.widget_3)
        self.button3_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button3_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button3_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button3_2.setObjectName("button3_2")
        self.horizontalLayout_7.addWidget(self.button3_2)
        self.button4_2 = QtWidgets.QPushButton(self.widget_3)
        self.button4_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button4_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button4_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button4_2.setObjectName("button4_2")
        self.horizontalLayout_7.addWidget(self.button4_2)
        self.button5_2 = QtWidgets.QPushButton(self.widget_3)
        self.button5_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button5_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button5_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button5_2.setObjectName("button5_2")
        self.horizontalLayout_7.addWidget(self.button5_2)
        self.button6_2 = QtWidgets.QPushButton(self.widget_3)
        self.button6_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button6_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button6_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button6_2.setObjectName("button6_2")
        self.horizontalLayout_7.addWidget(self.button6_2)
        self.button7_2 = QtWidgets.QPushButton(self.widget_3)
        self.button7_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button7_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button7_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button7_2.setObjectName("button7_2")
        self.horizontalLayout_7.addWidget(self.button7_2)
        self.button8_2 = QtWidgets.QPushButton(self.widget_3)
        self.button8_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button8_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button8_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button8_2.setObjectName("button8_2")
        self.horizontalLayout_7.addWidget(self.button8_2)
        self.button9_2 = QtWidgets.QPushButton(self.widget_3)
        self.button9_2.setMinimumSize(QtCore.QSize(30, 60))
        self.button9_2.setMaximumSize(QtCore.QSize(50, 70))
        self.button9_2.setStyleSheet("font: 75 20pt \"Segoe UI\";\n"
                                     "background-color: rgb(170, 85, 0);")
        self.button9_2.setObjectName("button9_2")
        self.horizontalLayout_7.addWidget(self.button9_2)
        self.verticalLayout_3.addWidget(self.widget_3)
        self.verticalLayout_4.addWidget(self.resPic1)
        self.finalResFrame = QtWidgets.QFrame(self.right)
        self.finalResFrame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.finalResFrame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.finalResFrame.setLineWidth(0)
        self.finalResFrame.setObjectName("finalResFrame")
        self.horizontalLayout_9 = QtWidgets.QHBoxLayout(self.finalResFrame)
        self.horizontalLayout_9.setContentsMargins(2, 2, 2, 2)
        self.horizontalLayout_9.setObjectName("horizontalLayout_9")
        self.finalRes = QtWidgets.QLabel(self.finalResFrame)
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(14)
        self.finalRes.setFont(font)
        self.finalRes.setLineWidth(0)
        self.finalRes.setObjectName("finalRes")
        self.horizontalLayout_9.addWidget(self.finalRes, 0, QtCore.Qt.AlignHCenter | QtCore.Qt.AlignVCenter)
        self.verticalLayout_4.addWidget(self.finalResFrame)
        self.buttom = QtWidgets.QWidget(self.right)
        self.buttom.setMaximumSize(QtCore.QSize(2000, 400))
        self.buttom.setObjectName("buttom")
        self.horizontalLayout_6 = QtWidgets.QHBoxLayout(self.buttom)
        self.horizontalLayout_6.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout_6.setSpacing(0)
        self.horizontalLayout_6.setObjectName("horizontalLayout_6")
        self.rescue = QtWidgets.QPushButton(self.buttom)
        self.rescue.setMinimumSize(QtCore.QSize(0, 100))
        self.rescue.setMaximumSize(QtCore.QSize(1000, 400))
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(20)
        self.rescue.setFont(font)
        self.rescue.setStyleSheet("background-color: rgb(255, 0, 0);")
        self.rescue.setObjectName("rescue")
        self.horizontalLayout_6.addWidget(self.rescue, 0, QtCore.Qt.AlignBottom)
        self.startDec = QtWidgets.QPushButton(self.buttom)
        self.startDec.setMinimumSize(QtCore.QSize(0, 100))
        self.startDec.setMaximumSize(QtCore.QSize(1000, 400))
        font = QtGui.QFont()
        font.setFamily("HarmonyOS Sans SC Medium")
        font.setPointSize(20)
        self.startDec.setFont(font)
        self.startDec.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.startDec.setStyleSheet("background-color: rgb(0, 255, 0);")
        self.startDec.setAutoRepeatDelay(300)
        self.startDec.setObjectName("startDec")
        self.horizontalLayout_6.addWidget(self.startDec, 0, QtCore.Qt.AlignBottom)
        self.verticalLayout_4.addWidget(self.buttom)
        self.verticalLayout_4.setStretch(0, 2)
        self.verticalLayout_4.setStretch(1, 7)
        self.verticalLayout_4.setStretch(2, 7)
        self.verticalLayout_4.setStretch(3, 1)
        self.verticalLayout_4.setStretch(4, 3)
        self.horizontalLayout.addWidget(self.right)
        self.horizontalLayout.setStretch(0, 3)
        self.horizontalLayout.setStretch(1, 2)
        self.horizontalLayout_2.addLayout(self.horizontalLayout)
        MainWindow.setCentralWidget(self.centralwidget)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

        self.greenCircle = "min-width: 16px; min-height: 16px;max-width:16px; max-height: 16px;border-radius: " \
                           "8px;  border:1px solid black;background:green "
        self.redCircle = "min-width: 16px; min-height: 16px;max-width:16px; max-height: 16px;border-radius: 8px;  " \
                         "border:1px solid black;background:red"

        self.dectProgess.setVisible(False)
        self.onLunch()
        self.Video.setScaledContents(True)
        self.resPicFirst.setScaledContents(True)
        self.resPicSecond.setScaledContents(True)
        self.isCamOpen = True

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "32位激光码检测"))
        self.Camlabel.setText(_translate("MainWindow", "相机"))
        self.LocalTime.setText(_translate("MainWindow", "8-1 13:32"))
        self.Reslabel.setText("-- 等待初始化 --")
        self.label_3.setText(_translate("MainWindow", "检测结果"))
        self.res1.setText(_translate("MainWindow", "#"))
        self.res2.setText(_translate("MainWindow", "#"))
        self.res3.setText(_translate("MainWindow", "#"))
        self.res4.setText(_translate("MainWindow", "#"))
        self.res5.setText(_translate("MainWindow", "#"))
        self.res6.setText(_translate("MainWindow", "#"))
        self.res7.setText(_translate("MainWindow", "#"))
        self.res8.setText(_translate("MainWindow", "#"))
        self.res9.setText(_translate("MainWindow", "#"))
        self.res10.setText(_translate("MainWindow", "#"))
        self.res11.setText(_translate("MainWindow", "#"))
        self.res12.setText(_translate("MainWindow", "#"))
        self.res13.setText(_translate("MainWindow", "#"))
        self.res14.setText(_translate("MainWindow", "#"))
        self.res15.setText(_translate("MainWindow", "#"))
        self.res16.setText(_translate("MainWindow", "#"))
        self.res17.setText(_translate("MainWindow", "#"))
        self.res18.setText(_translate("MainWindow", "#"))
        self.res19.setText(_translate("MainWindow", "#"))
        self.res20.setText(_translate("MainWindow", "#"))
        self.res21.setText(_translate("MainWindow", "#"))
        self.res22.setText(_translate("MainWindow", "#"))
        self.res23.setText(_translate("MainWindow", "#"))
        self.res24.setText(_translate("MainWindow", "#"))
        self.res25.setText(_translate("MainWindow", "#"))
        self.res26.setText(_translate("MainWindow", "#"))
        self.res27.setText(_translate("MainWindow", "#"))
        self.res28.setText(_translate("MainWindow", "#"))
        self.res29.setText(_translate("MainWindow", "#"))
        self.res30.setText(_translate("MainWindow", "#"))
        self.res31.setText(_translate("MainWindow", "#"))
        self.res32.setText(_translate("MainWindow", "#"))
        self.button0.setText(_translate("MainWindow", "0"))
        self.button1.setText(_translate("MainWindow", "1"))
        self.button2.setText(_translate("MainWindow", "2"))
        self.button3.setText(_translate("MainWindow", "3"))
        self.button4.setText(_translate("MainWindow", "4"))
        self.button5.setText(_translate("MainWindow", "5"))
        self.button6.setText(_translate("MainWindow", "6"))
        self.button7.setText(_translate("MainWindow", "7"))
        self.button8.setText(_translate("MainWindow", "8"))
        self.button9.setText(_translate("MainWindow", "9"))
        self.button0_2.setText(_translate("MainWindow", "0"))
        self.button1_2.setText(_translate("MainWindow", "1"))
        self.button2_2.setText(_translate("MainWindow", "2"))
        self.button3_2.setText(_translate("MainWindow", "3"))
        self.button4_2.setText(_translate("MainWindow", "4"))
        self.button5_2.setText(_translate("MainWindow", "5"))
        self.button6_2.setText(_translate("MainWindow", "6"))
        self.button7_2.setText(_translate("MainWindow", "7"))
        self.button8_2.setText(_translate("MainWindow", "8"))
        self.button9_2.setText(_translate("MainWindow", "9"))
        self.finalRes.setText(_translate("MainWindow", "--------------------------------"))
        self.rescue.setText(_translate("MainWindow", "重置"))
        self.startDec.setText(_translate("MainWindow", "开始"))

    def onLunch(self):
        # 显示时间
        self.timeDisplay = disTime(self.LocalTime)
        self.timeDisplay.start()
        # 开启结果展示的点击函数调用
        self.resClick()
        # 显示状态
        # self.camStatusDisplay = disCamStatus(self.camStatus)
        # self.camStatusDisplay.start()
        # 调用摄像头并显示
        self.th1 = displayCam()
        self.th1.updateFrame.connect(self.setImage)
        QTimer.singleShot(1500, self.start)
        QTimer.singleShot(1500, self.initModel)
        self.startDec.setEnabled(False)
        self.rescue.setEnabled(False)
        # 开始检测事件
        self.startDec.clicked.connect(self.startDection)
        self.rescue.clicked.connect(self.rescueCam)

        self.Video.setPixmap(QPixmap('front/icon/logo.jpg'))

        # 这里是设置小键盘不可见
        self.widget_2.setVisible(False)
        self.widget_3.setVisible(False)
        # 这里是定义结果修改的鼠标点击事件
        self.resClickEvent()

        # 这里是设置选择的背景颜色
        self.nowSelectBG = None

    # 将摄像头的图片传递给LABEL
    def setImage(self, image):
        self.Video.setPixmap(QPixmap.fromImage(image))
        if image is None:
            self.camStatus.setStyleSheet(self.redCircle)
        else:
            self.camStatus.setStyleSheet(self.greenCircle)
        self.Video.setScaledContents(True)

    # 开始启动摄像头
    def start(self):
        print("starting....")
        self.th1.start()

    # 定义结果按钮的连接
    def resClick(self):
        self.button0.clicked.connect(lambda: self.resButtonClickEvent(0))
        self.button1.clicked.connect(lambda: self.resButtonClickEvent(1))
        self.button2.clicked.connect(lambda: self.resButtonClickEvent(2))
        self.button3.clicked.connect(lambda: self.resButtonClickEvent(3))
        self.button4.clicked.connect(lambda: self.resButtonClickEvent(4))
        self.button5.clicked.connect(lambda: self.resButtonClickEvent(5))
        self.button6.clicked.connect(lambda: self.resButtonClickEvent(6))
        self.button7.clicked.connect(lambda: self.resButtonClickEvent(7))
        self.button8.clicked.connect(lambda: self.resButtonClickEvent(8))
        self.button9.clicked.connect(lambda: self.resButtonClickEvent(9))
        self.button0_2.clicked.connect(lambda: self.resButtonClickEvent(0))
        self.button1_2.clicked.connect(lambda: self.resButtonClickEvent(1))
        self.button2_2.clicked.connect(lambda: self.resButtonClickEvent(2))
        self.button3_2.clicked.connect(lambda: self.resButtonClickEvent(3))
        self.button4_2.clicked.connect(lambda: self.resButtonClickEvent(4))
        self.button5_2.clicked.connect(lambda: self.resButtonClickEvent(5))
        self.button6_2.clicked.connect(lambda: self.resButtonClickEvent(6))
        self.button7_2.clicked.connect(lambda: self.resButtonClickEvent(7))
        self.button8_2.clicked.connect(lambda: self.resButtonClickEvent(8))
        self.button9_2.clicked.connect(lambda: self.resButtonClickEvent(9))

    # 这里是所有插槽或者说是线程的初始化
    def initModel(self):
        self.pro = Process()
        self.Reslabel.setText("-- 等待检测 --")
        self.startDec.setEnabled(True)
        self.rescue.setEnabled(True)

    # 重置按钮事件操作
    def rescueCam(self):
        self.isCamOpen = True
        self.th1.start()
        self.displayRes(None, None, clear=True)
        self.resPicFirst.clear()
        self.resPicSecond.clear()
        self.widget_2.setVisible(False)
        self.widget_3.setVisible(False)
        self.nowSelectBG = None
        self.Reslabel.setText("-- 等待检测 --")

    # 开始检测按钮操作
    def startDection(self):
        self.Reslabel.setVisible(False)
        self.dectProgess.setVisible(True)
        self.dectProgess.setValue(24)

        # 这里是图片格式的转换
        qimg = self.Video.pixmap().toImage()
        temp_shape = (qimg.height(), qimg.bytesPerLine() * 8 // qimg.depth())
        temp_shape += (4,)
        ptr = qimg.bits()
        ptr.setsize(qimg.byteCount())
        result = np.array(ptr, dtype=np.uint8).reshape(temp_shape)
        result = result[..., :3]

        # 关线程
        if self.isCamOpen:
            self.th1.kill_thread()
            self.isCamOpen = False

        cv2.imwrite("temp.png", result)
        self.dectProgess.setValue(80)
        # 读取临时图片准备识别
        # 否则应读取temp.png图片
        pic, ret, preds = self.pro.getRes("pic/1.bmp", self.dectProgess)
        cv2.imwrite("temp0.png", pic[0])
        cv2.imwrite("temp1.png", pic[1])

        if pic is None and ret is None:
            self.Reslabel.setText("-- 无法找到图中激光码区域 --")
            self.th1.start()
        else:
            self.Reslabel.setText("检测完成！")

        self.Reslabel.setVisible(True)
        self.dectProgess.setVisible(False)
        self.displayRes(ret, preds)
        self.Video.setPixmap(QPixmap('draw.png'))
        self.resPicFirst.setPixmap(QPixmap('temp1.png'))
        self.resPicSecond.setPixmap(QPixmap('temp0.png'))
        os.remove('temp.png')
        os.remove('temp0.png')
        os.remove('temp1.png')
        os.remove('draw.png')
        # print(type(result))
        # return self.Video.setPixmap(QPixmap.fromImage(image))

    # 用于两张图片下的值的显示
    def displayRes(self, res, preds, clear=False):
        self.dis1 = [self.res1, self.res2, self.res3, self.res4, self.res5, self.res6, self.res7, self.res8, self.res9,
                     self.res10, self.res11, self.res12, self.res13, self.res14, self.res15, self.res16]
        self.dis2 = [self.res17, self.res18, self.res19, self.res20, self.res21, self.res22, self.res23, self.res24,
                     self.res25, self.res26, self.res27, self.res28, self.res29, self.res30, self.res31, self.res32]
        print(f'res')
        if clear is True:
            for i in range(0, 16):
                self.dis1[i].setText('#')
                self.dis1[i].setStyleSheet("background-color: rgb(218, 227, 243);")
            for i in range(0, 16):
                self.dis2[i].setText('#')
                self.dis2[i].setStyleSheet('background-color: rgb(218, 227, 243);')
            self.finalRes.setText("--------------------------------")
        else:
            for i in range(0, len(res[0]) if len(res[0]) <= 16 else 16):
                self.dis1[i].setText(res[0][i])
                if preds[0][i] < 0.92:
                    self.dis1[i].setStyleSheet("background-color: rgb(255, 0, 0);")
                else:
                    self.dis1[i].setStyleSheet('background-color: rgb(0, 255, 0);')

            for i in range(0, len(res[1]) if len(res[1]) <= 16 else 16):
                self.dis2[i].setText(res[1][i])
                if preds[1][i] < 0.92:
                    self.dis2[i].setStyleSheet('background-color: rgb(255, 0, 0);')
                else:
                    self.dis2[i].setStyleSheet('background-color: rgb(0, 255, 0);')

            res0 = ''.join(res[0])
            res1 = ''.join(res[1])
            rec_result = res0 + res1
            self.finalRes.setText(rec_result)
            print(rec_result)

    def resClickEvent(self):
        self.res1.connect_customized_slot(lambda: self.changeResTop(self.res1))
        self.res2.connect_customized_slot(lambda: self.changeResTop(self.res2))
        self.res3.connect_customized_slot(lambda: self.changeResTop(self.res3))
        self.res4.connect_customized_slot(lambda: self.changeResTop(self.res4))
        self.res5.connect_customized_slot(lambda: self.changeResTop(self.res5))
        self.res6.connect_customized_slot(lambda: self.changeResTop(self.res6))
        self.res7.connect_customized_slot(lambda: self.changeResTop(self.res7))
        self.res8.connect_customized_slot(lambda: self.changeResTop(self.res8))
        self.res9.connect_customized_slot(lambda: self.changeResTop(self.res9))
        self.res10.connect_customized_slot(lambda: self.changeResTop(self.res10))
        self.res11.connect_customized_slot(lambda: self.changeResTop(self.res11))
        self.res12.connect_customized_slot(lambda: self.changeResTop(self.res12))
        self.res13.connect_customized_slot(lambda: self.changeResTop(self.res13))
        self.res14.connect_customized_slot(lambda: self.changeResTop(self.res14))
        self.res15.connect_customized_slot(lambda: self.changeResTop(self.res15))
        self.res16.connect_customized_slot(lambda: self.changeResTop(self.res16))

        self.res17.connect_customized_slot(lambda: self.changeResButtom(self.res17))
        self.res18.connect_customized_slot(lambda: self.changeResButtom(self.res18))
        self.res19.connect_customized_slot(lambda: self.changeResButtom(self.res19))
        self.res20.connect_customized_slot(lambda: self.changeResButtom(self.res20))
        self.res21.connect_customized_slot(lambda: self.changeResButtom(self.res21))
        self.res22.connect_customized_slot(lambda: self.changeResButtom(self.res22))
        self.res23.connect_customized_slot(lambda: self.changeResButtom(self.res23))
        self.res24.connect_customized_slot(lambda: self.changeResButtom(self.res24))
        self.res25.connect_customized_slot(lambda: self.changeResButtom(self.res25))
        self.res26.connect_customized_slot(lambda: self.changeResButtom(self.res26))
        self.res27.connect_customized_slot(lambda: self.changeResButtom(self.res27))
        self.res28.connect_customized_slot(lambda: self.changeResButtom(self.res28))
        self.res29.connect_customized_slot(lambda: self.changeResButtom(self.res29))
        self.res30.connect_customized_slot(lambda: self.changeResButtom(self.res30))
        self.res31.connect_customized_slot(lambda: self.changeResButtom(self.res31))
        self.res32.connect_customized_slot(lambda: self.changeResButtom(self.res32))

    def changeResTop(self, MyQLabel):
        self.widget_3.setVisible(False)
        self.widget_2.setVisible(True)
        if self.nowSelectBG is not None:
            self.nowSelectBG.setStyleSheet("background-color: rgb(0, 200, 0);")
        if self.nowSelectBG == MyQLabel:
            self.widget_2.setVisible(False)
            self.nowSelectBG = None
        else:
            self.nowSelectBG = MyQLabel
            self.nowSelectBG.setStyleSheet("background-color: rgb(255, 255, 0);")

    def changeResButtom(self, MyQLabel):
        self.widget_2.setVisible(False)
        self.widget_3.setVisible(True)
        if self.nowSelectBG is not None:
            self.nowSelectBG.setStyleSheet("background-color: rgb(0, 200, 0);")
        if self.nowSelectBG == MyQLabel:
            self.widget_3.setVisible(False)
            self.nowSelectBG = None
        else:
            self.nowSelectBG = MyQLabel
            MyQLabel.setStyleSheet("background-color: rgb(255, 255, 0);")

    def resButtonClickEvent(self, val):
        self.nowSelectBG.setText(val)


# 这里是识别的流程
class Process(QThread):
    def __init__(self, agrs=parse_args()):
        super().__init__()
        if agrs is None:
            self.args = parse_args()
        else:
            self.args = agrs
        self.predictor = Predictor(self.args)

    def getRes(self, img, process=QtWidgets.QProgressBar):
        # collect dynamic shape by auto_tune
        process.setValue(30)
        if use_auto_tune(self.args):
            auto_tune(self.args, img)
        process.setValue(65)
        result, img = self.predictor.run(img)
        process.setValue(90)
        pic, ret, preds = self.startRec(result, img)
        process.setValue(98)
        return pic, ret, preds

    def startRec(self, result, img):
        # 最麻烦的就是这里，需要对矩阵做转换才能提取出图像中的信息
        # 二值化的矩阵需要转置才能做叉乘
        # (1, 492, 656)这是二值化矩阵的shape
        # (492, 656, 3)这是RGB矩阵的shape
        # 取三阶矩阵前两阶与二值化矩阵做叉乘
        # 灰度图的数据格式需要转换为符合RGB的uint8格式
        # img = img * result.astype(np.uint8)
        # img = img[[not np.all(img[i] == [0, 0, 0]) for i in range(img.shape[0])], :]
        # img = img[:, [not np.all(img[:, i] == 0) for i in range(img.shape[1])]]
        # 将矩阵转成opencv的MAT格式
        result = result.transpose(1, 2, 0)
        result = result.astype(np.uint8)
        # 这里将矩阵转换为MAT的8UC3类型
        # result = cv2.cvtColor(result, cv2.COLOR_GRAY2BGR)
        # 这里是查找图片轮廓
        drawImg = img.copy()
        contours, hierarchy = cv2.findContours(result, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)
        # result = cv2.cvtColor(result, cv2.COLOR_GRAY2BGR)
        cv2.drawContours(drawImg, contours, -1, (0, 0, 255), 1)
        # **绘制**最小外接矩形
        # bounding_boxes = [cv2.boundingRect(cnt) for cnt in contours]
        # for bbox in bounding_boxes:
        #     [x, y, w, h] = bbox
        #     cv2.rectangle(img, (x, y), (x + w, y + h), (0, 255, 0), 2)
        imgs, res, preds = [], [], []
        for cnt in contours:
            rect = cv2.minAreaRect(cnt)  # 得到最小外接矩形的（中心(x,y), (宽,高), 旋转角度）
            # print(f"最小外接矩形的角度为{rect[1][1]}")
            area = int(rect[1][1]) * int(rect[1][0])
            # print(f"最小外接矩形的面积为{area}")
            if area < 15000:
                continue
            box = cv2.boxPoints(rect)  # cv2.boxPoints(rect) for OpenCV 3.x 获取最小外接矩形的4个顶点坐标
            tmp = Rotate(img, box, rect).getImg()
            imgs.append(tmp)
            # print(f"旋转角度为{rect[2]}")
            box = np.int0(box)
            cv2.drawContours(img, [box], 0, (255, 0, 0), 1)
        cv2.imwrite("draw.png", img)
        # for i in imgs:
        #     res.append(start_rec(i).start())
        try:
            imgs[1] = cv2.resize(imgs[1], (380, 60), interpolation=cv2.INTER_CUBIC)
            imgs[0] = cv2.resize(imgs[0], (380, 60), interpolation=cv2.INTER_CUBIC)
            # image = np.hstack((imgs[1], imgs[0]))
            # cv2.imshow('1', image)
            # cv2.waitKey()
            res_temp, preds_temp = start_rec().start(imgs[1])
            res.append(res_temp)
            preds.append(preds_temp)

            res_temp, preds_temp = start_rec().start(imgs[0])
            res.append(res_temp)
            preds.append(preds_temp)
        except:
            print('找不到激光码！')
            res, imgs = None, None
        return imgs, res, preds


# 重写MyLabel 实现Label的点击动作
class MyQLabel(QtWidgets.QLabel):
    # 自定义信号, 注意信号必须为类属性
    button_clicked_signal = QtCore.pyqtSignal()

    def __init__(self, parent=None):
        super(MyQLabel, self).__init__(parent)

    def mouseReleaseEvent(self, QMouseEvent):
        self.button_clicked_signal.emit()

    # 可在外部与槽函数连接
    def connect_customized_slot(self, func):
        self.button_clicked_signal.connect(func)
